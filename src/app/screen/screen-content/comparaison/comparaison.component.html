<div class="grid-container">
  <div class="">
    <label for="sourceFile" class="file-label">Choisir un fichier source :</label>
    <input type="file" id="sourceFile" class="file-upload" (change)="onFileSelected($event, 'source')" accept=".xml, .json" webkitdirectory directory multiple >
  </div>
  <div class="">
    <label for="targetFile" class="file-label">Choisir un fichier target :</label>
    <input type="file" id="targetFile" class="file-upload" (change)="onFileSelected($event, 'target')" accept=".xml, .json" webkitdirectory directory multiple >
  </div>
</div>

<div>
  <div class="item">
    <p>Fichiers source:</p>
    <ul>
      <li *ngFor="let file of sourceFiles" (click)="onFileNameClick(file, 'source')" [ngClass]="{'source-file-not-in-target': !isFileInTarget(file.name), 'source-file-in-target': isFileInTarget(file.name)}">{{ file.name }}</li>
      <li *ngFor="let file of filterTargetFiles()" class="not-in-source" (click)="onFileNameClick(file, 'target')">{{ file.name }}</li>
    </ul>
  </div>
</div>

<!-- <p>Résultat:</p>
<div class="grid-container" *ngIf="sourceFileContent && targetFileContent">
 
  <div class="grid-item">
    <p class="nomfichier">{{ sourceFileName }}</p>
    <pre>{{ sourceFileContent }}</pre>
  </div>

  <div class="grid-item">
    <p class="nomfichier">{{ targetFileName }}</p>
    <pre>{{ targetFileContent }}</pre>
  </div>
</div> -->

<!-- <button (click)="comparerFichiers()">Comparer les fichiers</button>
 -->

<!-- <div *ngIf="comparisonResult !== null">
  <p>Résultat de la comparaison : {{ comparisonResult ? 'Identique' : 'Différent' }}</p>
</div> -->

<!-- <div *ngIf="comparisonResult !== null">
  <p>Résultat de la comparaison : {{ comparisonResult }}</p>
</div> -->

<!-- <ngx-text-diff
  [text1]="sourceFileContent"
  [text2]="targetFileContent"
  [config]="{ showTextDiff: true, insertedColor: 'green', removedColor: 'red' }"></ngx-text-diff> -->

  <!-- <div class="viewport" uiScroll>
    <div *uiScroll="let line of comparisonResult">
      <div class="source-line">{{ line.sourceLine }}</div>
      <div class="target-line">{{ line.targetLine }}</div>
    </div>
  </div> -->

  <!-- <inline-diff
    class="my-custom-ngx-diff-theme"
    [sourceFileContent]="sourceFileContent"
    [targetFileContent]="targetFileContent"
    [lineContextSize]="4"
    style="width: 100%"
    (selectedLineChange)="selectedLineChange($event)" />
   -->
<!-- 
   <div class="diff-container">
    <div class="source-content">
      <lib-ngx-simple-text-diff
        [content]="sourceFileContent"
        [format]="'sideBySide'"
      ></lib-ngx-simple-text-diff>
    </div>
    <div class="target-content">
      <lib-ngx-simple-text-diff
        [content]="targetFileContent"
        [format]="'sideBySide'"
      ></lib-ngx-simple-text-diff>
    </div>
  </div> -->
  
  <div class="container-fluid container-diff">
    <!-- <div class="text-center">
      <h1>Text Compare</h1>
      <p>
        Built with <a href="https://angular.io/">Angular</a> and
        <a href="https://microsoft.github.io/monaco-editor/index.html"
          >Monaco Editor</a
        >
      </p>
    </div> -->
    <hr />
    <div *ngIf="isCompared" class="row">
      <div class="col-md-11">
        <form class="form-inline " role="form">
          <label for="lang" class="mb-2 mr-sm-2">Language:</label>
          <select
            id="lang"
            name="lang"
            class="form-control mb-2 mr-sm-2"
            [(ngModel)]="selectedLang"
            (change)="onChangeLanguage($any($event.target)?.value)"
          >
            <option *ngFor="let option of languages" [value]="option">{{
              option
            }}</option>
          </select>
          <label for="theme" class="mb-2 mr-sm-2">Theme:</label>
          <select
            id="theme"
            name="theme"
            class="form-control mb-2 mr-sm-2"
            [(ngModel)]="selectedTheme"
            (change)="onChangeTheme($any($event.target)?.value)"
          >
            <option *ngFor="let option of themes" [value]="option.value">{{
              option.name
            }}</option>
          </select>
          <div class="form-check mb-2 mr-sm-2">
            <label class="form-check-label">
              <input
                class="form-check-input "
                type="checkbox"
                
                (change)="onChangeInline( $any($event.target)?.checked)"
              />
              Inline Diff
            </label>
          </div>
        </form>
      </div>
      <div class="col-md-1">
        <button
          type="button"
          class="btn btn-danger float-md-right"
          (click)="onClear()"
        >
          Clear
        </button>
      </div>
    </div>
    <div *ngIf="isCompared" class="row">
      <div class="col-md-12 editor editor-size">
        <ngx-monaco-diff-editor
          id="diffeditor"
          [options]="diffOptions"
          [originalModel]="originalModel"
          [modifiedModel]="modifiedModel"
        ></ngx-monaco-diff-editor>
      </div>
    </div>
    <!-- <div class="row">
      <div class="col-md-12" style="text-align:center; margin:10px 0px">
        <button type="button" class="btn btn-success" (click)="onCompare(file, type)">
          Compare
        </button>
      </div>
    </div> -->
    <!-- <div class="row">
      <div class="col-md-6 editor-size">
        <div class="input-title">
          <label>Text1</label>
        </div>
        <textarea
          class="form-control"
          rows="4"
          id="editor1"
          [(ngModel)]="text1"
        ></textarea> -->
        <!--
        <ngx-monaco-editor
          id="editor1"
          [options]="inputOptions"
          [(ngModel)]="text1"
        ></ngx-monaco-editor>-->
      <!-- </div> -->
      <!-- <div class="col-md-6 editor-size">
        <div class="input-title">
          <label>Text2</label>
        </div>
        <textarea
          class="form-control"
          rows="4"
          id="editor2"
          [(ngModel)]="text2"
        ></textarea> -->
        <!--
        <ngx-monaco-editor
          id="editor2"
          [options]="inputOptions"
          [(ngModel)]="text2"
        ></ngx-monaco-editor>-->
      <!-- </div> -->
    <!-- </div> -->
  <!-- </div> -->
  <br />
  <br />
  
